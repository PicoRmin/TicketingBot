# ุฑุงูููุง ุนุจโุงุจ - ุณุณุชู ุชฺฉุชูฺฏ ุงุฑุงูููุฑ

ุงู ุณูุฏ ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง ุขูโูุง ุฑุง ุชูุถุญ ูโุฏูุฏ.

---

## โ ุฎุทุง "Failed to fetch" ุฏุฑ ูพูู ูุจ

### ุนูู ุงุญุชูุงู:

1. **Backend ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุช**
   - โ ูุทูุฆู ุดูุฏ ฺฉู FastAPI ุฑู ูพูุฑุช 8000 ุงุฌุฑุง ุงุณุช
   - ุฏุณุชูุฑ: `uvicorn app.main:app --host 127.0.0.1 --port 8000 --reload`
   - ุจุฑุฑุณ: ุจุงุฒ ฺฉุฑุฏู `http://127.0.0.1:8000/docs` ุฏุฑ ูุฑูุฑฺฏุฑ

2. **ุขุฏุฑุณ API ุงุดุชุจุงู ุงุณุช**
   - โ ุฏุฑ `web_admin/src/services/api.ts` ุจุฑุฑุณ ฺฉูุฏ ฺฉู `API_BASE_URL` ุจู `http://127.0.0.1:8000` ุชูุธู ุดุฏู ุจุงุดุฏ
   - โ ุฏุฑ `.env` ูุงู backendุ `API_BASE_URL` ุฑุง ุจุฑุฑุณ ฺฉูุฏ

3. **ูุดฺฉู CORS**
   - โ ุฏุฑ `.env` ูุงู backendุ `CORS_ORIGINS` ุจุงุฏ ุดุงูู `http://localhost:5173` ู `http://127.0.0.1:5173` ุจุงุดุฏ
   - โ Backend ุฑุง ุฑโุงุณุชุงุฑุช ฺฉูุฏ

4. **Token ูููุถ ุดุฏู**
   - โ ุงุฒ ูพูู ูุจ ุฎุงุฑุฌ ุดูุฏ ู ุฏูุจุงุฑู ูุงุฑุฏ ุดูุฏ
   - โ ุฏุฑ Developer Tools ูุฑูุฑฺฏุฑ (F12) โ Application โ Local Storage โ `imehr_token` ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ุฑุงูโุญู ุณุฑุน:

```powershell
# 1. ุจุฑุฑุณ ุงุฌุฑุง Backend
# ุฏุฑ ุชุฑููุงู Backend ุจุงุฏ ูพุงู "Application startup complete" ุฑุง ุจุจูุฏ

# 2. ุชุณุช ุงุชุตุงู
# ุฏุฑ ูุฑูุฑฺฏุฑ ุง PowerShell:
Invoke-WebRequest -Uri "http://127.0.0.1:8000/health"

# 3. ุจุฑุฑุณ CORS
# ุฏุฑ .env ูุงู backend:
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8000,http://localhost:5173,http://127.0.0.1:5173

# 4. ุฑโุงุณุชุงุฑุช Backend
# Ctrl+C ุจุฑุง ุชููู
# ุณูพุณ ุฏูุจุงุฑู: uvicorn app.main:app --host 127.0.0.1 --port 8000 --reload
```

---

## โ ุฎุทุง ุฏุฑ ุซุจุช ุชฺฉุช

### ุนูู ุงุญุชูุงู:

1. **Authentication ูุดฺฉู ุฏุงุฑุฏ**
   - โ ูุทูุฆู ุดูุฏ ฺฉู ูุงฺฏู ฺฉุฑุฏูโุงุฏ
   - โ Token ุฑุง ุจุฑุฑุณ ฺฉูุฏ (Developer Tools โ Application โ Local Storage)

2. **ุฏุงุฏูโูุง ูุงูุนุชุจุฑ**
   - โ ุนููุงู ุชฺฉุช ุจุงุฏ ุญุฏุงูู 3 ฺฉุงุฑุงฺฉุชุฑ ุจุงุดุฏ
   - โ ุชูุถุญุงุช ุจุงุฏ ุญุฏุงูู 10 ฺฉุงุฑุงฺฉุชุฑ ุจุงุดุฏ
   - โ ุฏุณุชูโุจูุฏ ุจุงุฏ ุงูุชุฎุงุจ ุดูุฏ

3. **ูุดฺฉู ุฏุฑ Backend**
   - โ ูุงฺฏโูุง Backend ุฑุง ุจุฑุฑุณ ฺฉูุฏ (`logs/app.log`)
   - โ ุฏุฑ `/docs` endpoint ุฑุง ุชุณุช ฺฉูุฏ

### ุฑุงูโุญู:

```powershell
# 1. ุจุฑุฑุณ ูุงฺฏโูุง
Get-Content logs/app.log -Tail 50

# 2. ุชุณุช API ูุณุชููุงู
# ุฏุฑ PowerShell (ุจุนุฏ ุงุฒ ูุงฺฏู ู ุฏุฑุงูุช token):
$token = "YOUR_TOKEN_HERE"
$body = @{
    title = "ุชุณุช ุชฺฉุช"
    description = "ุงู ฺฉ ุชฺฉุช ุชุณุช ุงุณุช"
    category = "other"
} | ConvertTo-Json

Invoke-WebRequest -Uri "http://127.0.0.1:8000/api/tickets" `
    -Method POST `
    -Headers @{Authorization="Bearer $token"; "Content-Type"="application/json"} `
    -Body $body
```

---

## โ ุฑุจุงุช ุชูฺฏุฑุงู ฺฉุงุฑ ููโฺฉูุฏ

### ุนูู ุงุญุชูุงู:

1. **Token ุชูุธู ูุดุฏู**
   - โ ุฏุฑ `.env` ูุงูุ `TELEGRAM_BOT_TOKEN` ุฑุง ุจุฑุฑุณ ฺฉูุฏ

2. **Backend ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุช**
   - โ ุฑุจุงุช ูุงุฒ ุจู Backend ุฏุงุฑุฏ - ูุทูุฆู ุดูุฏ Backend ุงุฌุฑุง ุงุณุช

3. **ุฏุณุชูุฑ ุงุดุชุจุงู**
   - โ ุงุดุชุจุงู: `python -m app.telegram_bot.bot`
   - โ ุฏุฑุณุช: `python -m app.telegram_bot.run`

### ุฑุงูโุญู:

```powershell
# 1. ุจุฑุฑุณ Token
# ุฏุฑ .env:
TELEGRAM_BOT_TOKEN=your_bot_token_here

# 2. ุงุฌุฑุง ุฑุจุงุช
cd C:\PersonalProject\imehrTicketing
.\venv\Scripts\Activate.ps1
python -m app.telegram_bot.run
```

---

## โ ุฎุทุง CORS ุฏุฑ ูุฑูุฑฺฏุฑ

### ุนูู:

- Backend ู Frontend ุฑู ูพูุฑุชโูุง ูุฎุชูู ูุณุชูุฏ
- CORS_ORIGINS ุฏุฑุณุช ุชูุธู ูุดุฏู

### ุฑุงูโุญู:

```powershell
# ุฏุฑ .env ูุงู backend:
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8000,http://localhost:5173,http://127.0.0.1:5173

# ุณูพุณ Backend ุฑุง ุฑโุงุณุชุงุฑุช ฺฉูุฏ
```

---

## โ ุฎุทุง "ModuleNotFoundError"

### ุฑุงูโุญู:

```powershell
# 1. ูุนุงู ฺฉุฑุฏู venv
.\venv\Scripts\Activate.ps1

# 2. ูุตุจ ูุฌุฏุฏ ูุงุจุณุชฺฏโูุง
pip install -r requirements.txt
```

---

## โ ูพูุฑุช 8000 ูุดุบูู ุงุณุช

### ุฑุงูโุญู:

```powershell
# 1. ูพุฏุง ฺฉุฑุฏู ูพุฑูุณูโุง ฺฉู ูพูุฑุช ุฑุง ุงุณุชูุงุฏู ูโฺฉูุฏ
netstat -ano | findstr :8000

# 2. ฺฉุดุชู ูพุฑูุณู (PID ุฑุง ุงุฒ ุฎุฑูุฌ ุจุงูุง ุจฺฏุฑุฏ)
taskkill /PID <PID> /F

# 3. ุง ุงุณุชูุงุฏู ุงุฒ ูพูุฑุช ุฏฺฏุฑ
uvicorn app.main:app --host 127.0.0.1 --port 8080 --reload
# ุณูพุณ API_BASE_URL ุฑุง ุฏุฑ frontend ุจู http://127.0.0.1:8080 ุชุบุฑ ุฏูุฏ
```

---

## โ ฺฺฉโูุณุช ุณุฑุน

ูุจู ุงุฒ ฺฏุฒุงุฑุด ูุดฺฉูุ ุงู ููุงุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

- [ ] Backend ุฑู ูพูุฑุช 8000 ุงุฌุฑุง ุงุณุช
- [ ] Frontend ุฑู ูพูุฑุช 5173 ุงุฌุฑุง ุงุณุช
- [ ] `.env` ูุงู ุฏุฑุณุช ุชูุธู ุดุฏู
- [ ] `CORS_ORIGINS` ุดุงูู ุขุฏุฑุณ Frontend ุงุณุช
- [ ] Token ูุนุชุจุฑ ุฏุงุฑุฏ (ูุงฺฏู ฺฉุฑุฏูโุงุฏ)
- [ ] ุฏุชุงุจุณ ููุฏุงุฑุฏู ุดุฏู (`python scripts/init_db.py`)
- [ ] ุงุฏูู ุณุงุฎุชู ุดุฏู (`python scripts/create_admin.py`)

---

## ๐ ฺฏุฑูุชู ฺฉูฺฉ

ุงฺฏุฑ ูุดฺฉู ุญู ูุดุฏ:

1. ูุงฺฏโูุง Backend ุฑุง ุจุฑุฑุณ ฺฉูุฏ: `logs/app.log`
2. Console ูุฑูุฑฺฏุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ (F12 โ Console)
3. Network tab ุฑุง ุจุฑุฑุณ ฺฉูุฏ (F12 โ Network) ุชุง ุจุจูุฏ ฺฉุฏุงู ุฏุฑุฎูุงุณุช ุฎุทุง ูโุฏูุฏ
4. ุงุทูุงุนุงุช ุฎุทุง ุฑุง ฺฉูพ ฺฉูุฏ ู ฺฏุฒุงุฑุด ุฏูุฏ

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู:** 2025-01-12

